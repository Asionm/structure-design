# 结构设计辅助工具

## 目录

[简介](#简介) 

[钢结构设计模块](#钢结构设计模块) 

[框架结构设计模块](#框架结构设计模块) 

[基础工程设计模块](#基础工程设计模块)

[低碳设计模块](#低碳设计模块)

## 简介

项目宗旨在于构建结构设计中常用的工具和公式，包括钢结构设计、混凝土结构设计和基础工程设计等。这些工具和公式将以Web程序的形式进行部署，并通过大模型的加持来辅助使用。此项目旨在为设计人员、施工人员和检测人员提供支持，同时加深土木工程从业者对相关规则和公式的理解。

通过提供一个综合性的在线工具平台，用户可以方便地访问和应用各种设计公式和工具。以提高工作效率，减少错误的可能性。加入大模型的加持以提供智能建议和自动化计算，进一步简设计和施工过程。此外，该项目还计划提供详细的教程和说明，帮助用户更好地理解和应用这些工具和公式。通过这些资源，土木工程从业者能够更深入地掌握结构设计的核心知识，提高专业技能和解决实际问题的能力。

## 钢结构设计模块









## 框架结构设计模块

### 矩阵位移法计算

源码位于`frame_structure\matrix_displacement_method`

### opensees验证

源码位于`frame_structure\opensees_code`

### D值法自动化计算与可视化

**源码位置**

* 计算源码位于`frame_structure\D_value_code`
* 网页可视化服务端源码位于`frame_structure\flask-server`
* 客户端源码位于`frame_structure\web-site`

**介绍**

（1）D值法手算存在的问题

在D值法的计算中，涉及到的流程如图下所示，主要可以概括为三个核心步骤。首先是D值的计算，该计算过程中涉及到的侧移刚度修正系数的求解，这需要进行复杂且繁琐的计算。第二步是确定反弯点的位置，这一步骤需要参考多个表格，而这些表格往往有着各种不同的规则。最后一步是计算弯矩值，这一步涉及到重复而复杂的迭代计算。因此，手动进行D值法计算将会是一个十分繁杂的过程。在工程实践中，我们通常只关注最终的分析结果，而计算过程本身却可能耗费大量的时间和精力。若能使用自动化的程序对D值法这些重复的步骤进行计算，将会大大节省时间并将精力集中于分析受力结果。

![img](https://github.com/Asionm/structure-design/blob/main/README.assets/clip_image002.png)

（2）编程实现D值法计算

计算所使用的编程语言为Python，程序的处理流程如下图所示。该流程首先涉及到将模型的几何结构、受力信息以及材料截面等信息写入系统。接着，这些信息以类和对象的形式存储，其中包括节点与杆件的详细信息以及它们之间的空间关系。随后，系统载入包含反弯点数据的json文件，并执行插值操作以便于后续使用。基于节点的空间信息，系统遍历计算出每个节点的𝛼𝑐值。然后，利用楼层信息和i值来确定反弯点的高度比v。接下来，系统计算D值，然后计算每个反弯点处的剪力Vim。有了这些数据，系统进一步计算出各个节点的弯矩值。最后，利用这些计算结果绘制出弯矩图，为结构分析提供直观的视图。

![img](https://github.com/Asionm/structure-design/blob/main/README.assets/clip_image002-17024619459071.png)

**可视化网页程序**

演示网页位于：https://asionm.github.io/structure-design/

![demo](https://github.com/Asionm/structure-design/blob/main/README.assets/demo.gif)

*注意：程序尚未完善，因此只能输入简单的结构与受力情况，且层数不能超过12层。*







## 基础工程设计模块

### 简介

此程序主要依据规范以及一些一般的土力学计算公式实现对简单基础的设计，并生成对应的计算书。其中计算书主要生成为markdown格式，使用的编程语言为python语言。主要代码位于: `foundation_design\calculate_code`

### 程序结构

#### 文件树

│  appendix.py（存储了附录的一些数据包含混凝土弹模、抗拉强度设计值等）
│  cap.py （承台类）
│  foundation.py（桩基础类）
│  generate.py（生成计算书）
│  main.py（入口文件，启动文件）
│  output.md（输出的计算书）
│  template.md（渲染模板）
│  tools.py（一些工具函数）
│
└─output.assets（计算书中的一些图片）
        image-20230905094829505.png

#### 程序执行流程

![程序流程](https://github.com/Asionm/structure-design/blob/main/README.assets/程序流程.svg)

#### api接口介绍

[点击跳转接口文件](docs/foundation_design.md)





## 低碳设计模块



### TODO  

**计算程序**  

- [x] 基本计算  
- [x] 报告生成  
- [ ] 适配各种情况

**自动绘图**

**可视化网页** 

- [ ] 页面搭建
- [ ] 连接计算程序
